typeof bsn=="undefined"&&(_b=bsn={});typeof _b.Autosuggest=="undefined"&&(_b.Autosuggest={});var inputId;_b.AutoSuggest=function(n,t){var i,r,u;if(!document.getElementById||(this.fld=_b.DOM.gE(n),!this.fld))return 0;this.sInp="";this.nInpC=0;this.aSug=[];this.iHigh=0;this.oP=t?t:{};r={minchars:1,meth:"get",varname:"input",className:"autosuggest",timeout:20500,delay:500,offsety:-5,shownoresults:!0,noresults:"No results!",maxheight:250,cache:!1,maxentries:25};for(i in r)typeof this.oP[i]!=typeof r[i]&&(this.oP[i]=r[i]);u=this;this.fld.onkeypress=function(n){inputId=u.fld.id;return u.onKeyPress(n)};this.fld.onkeyup=function(n){return u.onKeyUp(n)};this.fld.setAttribute("autocomplete","off")};_b.AutoSuggest.prototype.onKeyPress=function(n){var i=window.event?window.event.keyCode:n.keyCode,t=1;switch(i){case 13:this.setHighlightedValue();t=0;break;case 27:this.clearSuggestions()}return t};_b.AutoSuggest.prototype.onKeyUp=function(n){var t=window.event?window.event.keyCode:n.keyCode,i=1;switch(t){case 38:this.changeHighlight(t);i=0;break;case 40:this.changeHighlight(t);i=0;break;default:this.getSuggestions(this.fld.value)}return i};_b.AutoSuggest.prototype.getSuggestions=function(n){var u,i,r,t,f,e;if(n==this.sInp)return 0;if(_b.DOM.remE(this.idAs),this.sInp=n,n.length<this.oP.minchars)return this.aSug=[],this.nInpC=n.length,0;if(u=this.nInpC,this.nInpC=n.length?n.length:0,i=this.aSug.length,this.nInpC>u&&i&&i<this.oP.maxentries&&this.oP.cache){for(r=[],t=0;t<i;t++)this.aSug[t].value.substr(0,n.length).toLowerCase()==n.toLowerCase()&&r.push(this.aSug[t]);return this.aSug=r,this.createList(this.aSug),!1}return f=this,e=this.sInp,clearTimeout(this.ajID),this.ajID=setTimeout(function(){f.doAjaxRequest(e)},this.oP.delay),!1};_b.AutoSuggest.prototype.doAjaxRequest=function(n){var i,t;if(n!=this.fld.value||(i=this,t=typeof this.oP.script=="function"?this.oP.script(encodeURIComponent(this.sInp)):this.oP.script+this.oP.varname+"="+encodeURIComponent(this.sInp),!t))return!1;var r=this.oP.meth,n=this.sInp,u=function(t){i.setSuggestions(t,n)},f=function(n){alert("Bir Hata Aldï¿½k: "+n)},e=new _b.Ajax;e.makeRequest(t,r,u,f)};_b.AutoSuggest.prototype.setSuggestions=function(req,input){var jsondata,xml,results,i;if(input!=this.fld.value)return!1;if(this.aSug=[],this.oP.json)for(jsondata=eval("("+req.responseText+")"),i=0;i<jsondata.results.length;i++)this.aSug.push({id:jsondata.results[i].id,value:jsondata.results[i].value,url:jsondata.results[i].url,info:jsondata.results[i].info});else for(xml=req.responseXML,results=xml.getElementsByTagName("results")[0].childNodes,i=0;i<results.length;i++)results[i].hasChildNodes()&&this.aSug.push({id:results[i].getAttribute("id"),value:results[i].childNodes[0].nodeValue,url:results[i].getAttribute("url"),info:results[i].getAttribute("info")});this.idAs="as_"+this.fld.id;this.createList(this.aSug)};_b.AutoSuggest.prototype.createList=function(n){var f=this,o,i,r,c,y,p,w,e,v;if(_b.DOM.remE(this.idAs),this.killTimeout(),n.length==0&&!this.oP.shownoresults)return!1;var t=_b.DOM.cE("div",{id:this.idAs,className:this.oP.className}),b=_b.DOM.cE("div",{className:"as_corner"}),k=_b.DOM.cE("div",{className:"as_bar"}),h=_b.DOM.cE("div",{className:"as_header"});for(h.appendChild(b),h.appendChild(k),t.appendChild(h),o=_b.DOM.cE("ul",{id:"as_ul"}),i=0;i<n.length;i++){if(r=n[i].value,c=n[i].url,r.toString().search("Category")<0){var s=r.toLowerCase().indexOf(this.sInp.toLowerCase()),d=r.substring(0,s)+"<em>"+r.substring(s,s+this.sInp.length)+"<\/em>"+r.substring(s+this.sInp.length),l=_b.DOM.cE("span",{},d,!0);n[i].info!=""&&(y=_b.DOM.cE("br",{}),l.appendChild(y),p=_b.DOM.cE("small",{},n[i].info),l.appendChild(p));var u=_b.DOM.cE("a",{href:c}),g=_b.DOM.cE("span",{className:"tl"}," "),nt=_b.DOM.cE("span",{className:"tr"}," ");u.appendChild(g);u.appendChild(nt);u.appendChild(l);u.name=i+1;u.onclick=function(){if(inputId=="txtName"){var n=document.querySelector("body");n.style.cursor="wait";window.location.href=c}else return f.setHighlightedValue(),!1};u.onmouseover=function(){f.setHighlight(this.name)};e=_b.DOM.cE("li",{},u)}else w=_b.DOM.cE("div",{className:"Suggest-Category"},r.replace("Category:","")),e=_b.DOM.cE("li",{},w);o.appendChild(e)}n.length==0&&this.oP.shownoresults&&(e=_b.DOM.cE("li",{className:"as_warning"},this.oP.noresults),o.appendChild(e));t.appendChild(o);var tt=_b.DOM.cE("div",{className:"as_corner"}),it=_b.DOM.cE("div",{className:"as_bar"}),a=_b.DOM.cE("div",{className:"as_footer"});a.appendChild(tt);a.appendChild(it);t.appendChild(a);v=_b.DOM.getPos(this.fld);t.style.left=v.x+"px";t.style.top=v.y+this.fld.offsetHeight+this.oP.offsety+"px";t.style.width=this.fld.offsetWidth+"px";t.onmouseover=function(){f.killTimeout()};t.onmouseout=function(){f.resetTimeout()};document.getElementsByTagName("body")[0].appendChild(t);this.iHigh=0;f=this;this.toID=setTimeout(function(){f.clearSuggestions()},this.oP.timeout)};_b.AutoSuggest.prototype.changeHighlight=function(n){var i=_b.DOM.gE("as_ul"),t;if(!i)return!1;n==40?t=this.iHigh+1:n==38&&(t=this.iHigh-1);t>i.childNodes.length&&(t=i.childNodes.length);t<1&&(t=1);this.setHighlight(t)};_b.AutoSuggest.prototype.setHighlight=function(n){var t=_b.DOM.gE("as_ul");if(!t)return!1;this.iHigh>0&&this.clearHighlight();this.iHigh=Number(n);t.childNodes[this.iHigh-1].className="as_highlight";this.killTimeout()};_b.AutoSuggest.prototype.clearHighlight=function(){var n=_b.DOM.gE("as_ul");if(!n)return!1;this.iHigh>0&&(n.childNodes[this.iHigh-1].className="",this.iHigh=0)};_b.AutoSuggest.prototype.setHighlightedValue=function(){this.iHigh&&(this.sInp=this.fld.value=this.aSug[this.iHigh-1].value,this.fld.focus(),this.fld.selectionStart&&this.fld.setSelectionRange(this.sInp.length,this.sInp.length),this.clearSuggestions(),typeof this.oP.callback=="function"&&this.oP.callback(this.aSug[this.iHigh-1]))};_b.AutoSuggest.prototype.killTimeout=function(){clearTimeout(this.toID)};_b.AutoSuggest.prototype.resetTimeout=function(){clearTimeout(this.toID);var n=this;this.toID=setTimeout(function(){n.clearSuggestions()},1e3)};_b.AutoSuggest.prototype.clearSuggestions=function(){var n,t,i;this.killTimeout();n=_b.DOM.gE(this.idAs);t=this;n&&(i=new _b.Fader(n,1,0,250,function(){_b.DOM.remE(t.idAs)}))};typeof _b.Ajax=="undefined"&&(_b.Ajax={});_b.Ajax=function(){this.req={};this.isIE=!1};_b.Ajax.prototype.makeRequest=function(n,t,i,r){t!="POST"&&(t="GET");this.onComplete=i;this.onError=r;var u=this;window.XMLHttpRequest?(this.req=new XMLHttpRequest,this.req.onreadystatechange=function(){u.processReqChange()},this.req.open("GET",n,!0),this.req.send(null)):window.ActiveXObject&&(this.req=new ActiveXObject("Microsoft.XMLHTTP"),this.req&&(this.req.onreadystatechange=function(){u.processReqChange()},this.req.open(t,n,!0),this.req.send()))};_b.Ajax.prototype.processReqChange=function(){if(this.req.readyState==4)if(this.req.status==200)this.onComplete(this.req);else this.onError(this.req.status)};typeof _b.DOM=="undefined"&&(_b.DOM={});_b.DOM.cE=function(n,t,i,r){var u=document.createElement(n),e,f;if(!u)return 0;for(e in t)u[e]=t[e];return f=typeof i,f!="string"||r?f=="string"&&r?u.innerHTML=i:f=="object"&&u.appendChild(i):u.appendChild(document.createTextNode(i)),u};_b.DOM.gE=function(n){var i=typeof n,t;return i=="undefined"?0:i=="string"?(t=document.getElementById(n),t?typeof t.appendChild!="undefined"?t:0:0):typeof n.appendChild!="undefined"?n:0};_b.DOM.remE=function(n){var t=this.gE(n);return t?t.parentNode.removeChild(t)?!0:0:0};_b.DOM.getPos=function(n){var n=this.gE(n),t=n,r=0,i;if(t.offsetParent)while(t.offsetParent)r+=t.offsetLeft,t=t.offsetParent;else t.x&&(r+=t.x);if(t=n,i=0,t.offsetParent)while(t.offsetParent)i+=t.offsetTop,t=t.offsetParent;else t.y&&(i+=t.y);return{x:r,y:i}};typeof _b.Fader=="undefined"&&(_b.Fader={});_b.Fader=function(n,t,i,r,u){if(!n)return 0;this.e=n;this.from=t;this.to=i;this.cb=u;this.nDur=r;this.nInt=50;this.nTime=0;var f=this;this.nID=setInterval(function(){f._fade()},this.nInt)};_b.Fader.prototype._fade=function(){this.nTime+=this.nInt;var n=Math.round(this._tween(this.nTime,this.from,this.to,this.nDur)*100),t=n/100;if(this.e.filters)try{this.e.filters.item("DXImageTransform.Microsoft.Alpha").opacity=n}catch(i){this.e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+n+")"}else this.e.style.opacity=t;this.nTime==this.nDur&&(clearInterval(this.nID),this.cb!=undefined&&this.cb())};_b.Fader.prototype._tween=function(n,t,i,r){return t+(i-t)*(n/r)};
/*
//# sourceMappingURL=bsn.AutoSuggest_2.1.3.min.js.map
*/